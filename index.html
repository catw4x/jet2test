<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Jet2 Tech Test</title>
    <link rel="stylesheet" href="css/main.css">
    <link rel="shortcut icon" type="image/png" href="/favicon.png"/>
</head>

<body>

    <header>
        <div id="hub" class="hub">
            <nav class="hub-container container">
                <ul class="hub-nav-menu">
                    <li class="hub-nav-menu__item hub-nav-menu__item--active">
                        <a class="hub-nav-menu__link">Tech Test</a>
                    </li>
                </ul>
            </nav>
        </div>
        <div id="logo-container" class="logo-container container">
            <div id="logo" class="logo" alt="Logo"></div>
        </div>
    </header>

    <main>
        <section id="primary">
            <h1>
                Tech Test
            </h1>
            <button id="btn_confirm" class="btn btn--primary" alt="Confirmation Button"
                onclick="openModal('Congratulations your Jet2 holiday booking has been confirmed', 'You can manage your booking from the homepage and add any essentials you may need for your trip.')">
                Confirm your booking!
            </button>

            <!-- Modal defined here. Hide it until needed. Give ability to re-use modal by using javascript to pass header text and content as arguments. -->
            <div id="modal_overlay" class="modal-overlay is-hidden">

                <div id="modal_test" class="modal">

                    <div id="modal_header" class="modal__header">
                        <div id="modal_header_icon" class="modal__header-icon fas fa-check-circle"
                            alt="Confirmation Icon"></div>
                        <div id="modal_header_text" class="modal__header-text"></div>
                    </div>
                    <div id="modal_content" class="modal__content">
                    </div>
                    <div id="modal__footer" class="modal__footer">
                        <button id="btn_cancel" class="btn btn-modal btn-modal--cancel" alt="Cancel Button">
                            Cancel
                        </button>
                        <button id="btn_update" class="btn btn-modal btn-modal--continue"
                            onclick="updateModal('Thank You!','We hope you enjoy your Jet2 holiday!')"
                            alt="Continue Button">
                            Continue
                        </button>
                    </div>

                </div>
            </div>
            <!-- End of Modal-->

        </section>
    </main>

    <script>

        // Works in Chrome, Firefox, Edge, iOS Safari and IE11+

        // Get the modal
        var modal = document.getElementById("modal_overlay");

        // Get the button element that closes the modal
        var btn_close = document.getElementById("btn_cancel");

        // When the user clicks on the confirmation button, open the modal
        function openModal(headerText, content) {
            document.getElementById('modal_header_text').innerHTML = headerText;
            document.getElementById('modal_content').innerHTML = content;
            modal.style.display = "flex";
        }

        // When the user clicks on the continue button, update the modal and hide continue button
        function updateModal(headerText, content) {
            document.getElementById('modal_header_text').innerHTML = headerText;
            document.getElementById('modal_content').innerHTML = content;
            btn_update.style.display = 'none';
            modal.style.display = "flex";
        }

        // When the user clicks on close button, close the modal
        btn_close.onclick = function () {
            modal.style.display = "none";
            btn_update.style.display = 'inline-block';
        }

        // When the user clicks anywhere outside of the modal, close it
        window.onclick = function (event) {
            if (event.target == modal) {
                modal.style.display = "none";
                btn_update.style.display = 'inline-block';
            }
        }


        // ES6. Works in Chrome, Firefox, Edge, iOS Safari. Does not work in IE11 and below

        /*                 class Modal {
                            constructor(overlay) {
                                this.overlay = overlay;
                                const cancelButton = overlay.querySelector('.btn-modal--cancel')
                                cancelButton.addEventListener('click', this.close.bind(this));
                            }
                            open(header, content) {
                                this.overlay.classList.remove('is-hidden');
                                this.overlay.querySelector('#modal_header_text').innerHTML = header;
                                this.overlay.querySelector('#modal_content').innerHTML = content;
                                var elem = document.querySelector('#btn_update');
                                elem.style.display = 'inline-block';
                            }
                            update(header, content) {
                                this.overlay.classList.remove('is-hidden');
                                this.overlay.querySelector('#modal_header_text').innerHTML = header;
                                this.overlay.querySelector('#modal_content').innerHTML = content;
                                var elem = document.querySelector('#btn_update');
                                elem.style.display = 'none';
                            }
                            close() {
                                this.overlay.classList.add('is-hidden');
                            }
                        }
                        const modal = new Modal(document.querySelector('.modal-overlay'));
                        window.openModal = modal.open.bind(modal);
                        window.updateModal = modal.update.bind(modal);  */

    </script>

</body>

</html>